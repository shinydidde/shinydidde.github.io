(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{2966:(e,t,r)=>{"use strict";r.d(t,{StarfieldProvider:()=>l,w:()=>s});var o=r(5155),n=r(2115);let i="starfield-enabled",a=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{l(function(){let e=localStorage.getItem(i);return"0"!==e&&"false"!==e}())},[]),(0,o.jsx)(a.Provider,{value:{starfieldOn:r,setStarfieldOn:e=>{l(e),localStorage.setItem(i,e?"1":"0")},toggleStarfield:()=>{l(e=>{let t=!e;return localStorage.setItem(i,t?"1":"0"),t})}},children:t})}function s(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useStarfield must be used within StarfieldProvider");return e}},4234:(e,t,r)=>{Promise.resolve().then(r.bind(r,6888))},6888:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>h});var o=r(5155),n=r(2115),i=r(5695),a=r(6203),l=r(3915),s=r(5317);let d=(0,l.Dk)().length?(0,l.Sx)():(0,l.Wp)({apiKey:"AIzaSyB3TpjND15IXtY4oV4-7FQTJRfOpjsLrpc",authDomain:"portfolio-4ad8b.firebaseapp.com",databaseURL:"https://portfolio-4ad8b.firebaseio.com",projectId:"portfolio-4ad8b",storageBucket:"portfolio-4ad8b.appspot.com",messagingSenderId:"601043154557",appId:"1:601043154557:web:ecbf44661588f267202314"}),c=(0,s.aU)(d),u=(0,a.xI)(d);var f=r(2966),p=r(8743);function g(){let[e,t]=(0,n.useState)({}),{starfieldOn:r,toggleStarfield:i}=(0,f.w)(),{heroImageMode:a,setHeroImageMode:l}=(0,p.F)();(0,n.useEffect)(()=>{let e=["hero","about","skills","experience","projects","education","footer"];!async function(){let r={};for(let t of e){let e=(0,s.rJ)(c,t),o=await (0,s.GG)(e);r[t]=o.docs.map(e=>({id:e.id,raw:JSON.stringify(e.data(),null,2)}))}t(r)}()},[]);let d=async(e,t)=>{try{let r=JSON.parse(t.raw),o=(0,s.H9)(c,e,t.id);await (0,s.BN)(o,r),alert("✓ Saved ".concat(e,"/").concat(t.id))}catch(t){let e="Unknown error";t instanceof Error&&(e=t.message),alert("✗ JSON parse error: "+e)}},u=async(e,r)=>{if(!confirm("Delete ".concat(e,"/").concat(r,"?")))return;let o=(0,s.H9)(c,e,r);try{await (0,s.kd)(o),t(t=>({...t,[e]:t[e].filter(e=>e.id!==r)}))}catch(t){let e="Unknown error";t instanceof Error&&(e=t.message),alert("✗ Delete failed: "+e)}},g=e=>{let r=(0,s.H9)((0,s.rJ)(c,e)).id;t(t=>{var o;return{...t,[e]:[...null!=(o=t[e])?o:[],{id:r,raw:"{}"}]}})};return(0,o.jsxs)("div",{style:{padding:24,fontFamily:"sans-serif"},children:[(0,o.jsx)("h1",{style:{fontSize:24,marginBottom:16},children:"Firestore Admin Console"}),(0,o.jsxs)("div",{style:{marginBottom:24,padding:12,backgroundColor:"#f3f4f6",borderRadius:8},children:[(0,o.jsx)("span",{style:{marginRight:8,fontWeight:500},children:"Gold mode starfield:"}),(0,o.jsx)("button",{type:"button",onClick:i,style:{padding:"6px 14px",backgroundColor:r?"#b45309":"#6b7280",color:"white",border:"none",borderRadius:4,cursor:"pointer",fontWeight:500},children:r?"On":"Off"}),(0,o.jsx)("span",{style:{marginLeft:8,color:"#6b7280",fontSize:14},children:"(takes effect when gold theme is active on the site)"})]}),(0,o.jsxs)("div",{style:{marginBottom:24,padding:12,backgroundColor:"#f3f4f6",borderRadius:8},children:[(0,o.jsx)("span",{style:{marginRight:8,fontWeight:500},children:"Hero image:"}),(0,o.jsx)("button",{type:"button",onClick:()=>l("current"),style:{padding:"6px 14px",marginRight:8,backgroundColor:"current"===a?"#1f2937":"#e5e7eb",color:"current"===a?"white":"#374151",border:"none",borderRadius:4,cursor:"pointer",fontWeight:500},children:"Current style"}),(0,o.jsx)("button",{type:"button",onClick:()=>l("full"),style:{padding:"6px 14px",backgroundColor:"full"===a?"#1f2937":"#e5e7eb",color:"full"===a?"white":"#374151",border:"none",borderRadius:4,cursor:"pointer",fontWeight:500},children:"Full image"}),(0,o.jsx)("span",{style:{marginLeft:8,color:"#6b7280",fontSize:14},children:"(current = masked/zoomed, full = whole image visible)"})]}),Object.entries(e).map(e=>{let[r,n]=e;return(0,o.jsxs)("section",{style:{marginBottom:32},children:[(0,o.jsx)("h2",{style:{textTransform:"capitalize",fontSize:20,marginBottom:8},children:r}),(0,o.jsx)("button",{onClick:()=>g(r),style:{padding:"6px 12px",backgroundColor:"#4b5563",color:"white",border:"none",borderRadius:4,cursor:"pointer"},children:"+ New"}),0===n.length&&(0,o.jsx)("p",{style:{fontStyle:"italic",color:"#666",marginTop:8},children:"(no documents yet)"}),n.map(e=>(0,o.jsxs)("div",{style:{border:"1px solid #ddd",borderRadius:4,padding:12,marginTop:12,backgroundColor:"#f9fafb"},children:[(0,o.jsxs)("header",{children:[(0,o.jsx)("strong",{children:"ID:"})," ",e.id]}),(0,o.jsx)("textarea",{value:e.raw,onChange:o=>{let n=o.target.value;t(t=>({...t,[r]:t[r].map(t=>t.id===e.id?{...t,raw:n}:t)}))},rows:6,style:{width:"100%",fontFamily:"monospace",margin:"8px 0",padding:8,borderRadius:4,border:"1px solid #ccc",resize:"vertical"}}),(0,o.jsxs)("div",{children:[(0,o.jsx)("button",{onClick:()=>d(r,e),style:{padding:"6px 12px",backgroundColor:"#1f2937",color:"white",border:"none",borderRadius:4,cursor:"pointer",marginRight:8},children:"Save"}),(0,o.jsx)("button",{onClick:()=>u(r,e.id),style:{padding:"6px 12px",backgroundColor:"#b91c1c",color:"white",border:"none",borderRadius:4,cursor:"pointer"},children:"Delete"})]})]},e.id))]},r)})]})}var m=r(9509);function h(){let e=(0,i.useRouter)(),[t,r]=(0,n.useState)(null),[l,s]=(0,n.useState)(!0),[d,c]=(0,n.useState)(""),[f,p]=(0,n.useState)(""),[h,b]=(0,n.useState)(null);if((0,n.useEffect)(()=>(0,a.hg)(u,e=>{r(e),s(!1)}),[]),l)return(0,o.jsx)("p",{className:"p-8 text-center",children:"Loading…"});let x=m.env.NEXT_PUBLIC_ADMIN_UID;if(t&&t.uid!==x)return e.replace("/"),null;if(!t){async function y(e){e.preventDefault(),b(null);try{await (0,a.x9)(u,d,f)}catch(e){b(e.message)}}return(0,o.jsxs)("div",{className:"max-w-md mx-auto mt-20 p-8 bg-white rounded-lg shadow",children:[(0,o.jsx)("h1",{className:"text-2xl mb-4",children:"Admin Sign-In"}),(0,o.jsxs)("form",{onSubmit:y,className:"space-y-4",children:[(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm",children:"Email"}),(0,o.jsx)("input",{type:"email",value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)("label",{className:"block text-sm",children:"Password"}),(0,o.jsx)("input",{type:"password",value:f,onChange:e=>p(e.target.value),className:"w-full px-3 py-2 border rounded",required:!0})]}),h&&(0,o.jsx)("p",{className:"text-red-600 text-sm",children:h}),(0,o.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded hover:bg-blue-700",children:"Sign In"})]})]})}return(0,o.jsx)(g,{})}},8743:(e,t,r)=>{"use strict";r.d(t,{F:()=>s,HeroImageProvider:()=>l});var o=r(5155),n=r(2115);let i="hero-image-mode",a=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[r,l]=(0,n.useState)("current");return(0,n.useEffect)(()=>{l(function(){let e=localStorage.getItem(i);return"full"===e||"current"===e?e:"current"}())},[]),(0,o.jsx)(a.Provider,{value:{heroImageMode:r,setHeroImageMode:e=>{l(e),localStorage.setItem(i,e)},isFullImage:"full"===r},children:t})}function s(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useHeroImage must be used within HeroImageProvider");return e}}},e=>{var t=t=>e(e.s=t);e.O(0,[992,811,75,441,684,358],()=>t(4234)),_N_E=e.O()}]);